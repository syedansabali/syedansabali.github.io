<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Panel â€” Ansab Portfolio</title>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=DM+Sans:opsz,wght@9..40,300;9..40,400;9..40,500&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#0a0a0a;--bg2:#0f0f0f;--bg3:#131313;--surface:#1a1a1a;
  --border:#252525;--border2:#2d2d2d;
  --accent:#e8521a;--accent-dim:rgba(232,82,26,.12);
  --green:#22c55e;--green-dim:rgba(34,197,94,.12);
  --red:#ef4444;--red-dim:rgba(239,68,68,.1);
  --yellow:#f59e0b;
  --text:#f2ede6;--text-muted:#6e6a65;--text-dim:#3a3835;
}
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0;}
body{font-family:'DM Sans',sans-serif;background:var(--bg);color:var(--text);min-height:100vh;}
::-webkit-scrollbar{width:2px;}
::-webkit-scrollbar-thumb{background:var(--accent);}

/* â”€â”€ LOGIN â”€â”€ */
#login-screen{position:fixed;inset:0;z-index:1000;background:var(--bg);display:flex;align-items:center;justify-content:center;}
#login-screen.hidden{display:none;}
.login-box{width:420px;background:var(--surface);border:1px solid var(--border);padding:52px 44px;}
.login-logo{font-family:'Bebas Neue',sans-serif;font-size:2rem;letter-spacing:4px;text-align:center;margin-bottom:8px;}
.login-logo span{color:var(--accent);}
.login-sub{font-size:.65rem;letter-spacing:3px;text-transform:uppercase;color:var(--text-dim);text-align:center;margin-bottom:40px;}
.lbl{font-size:.58rem;letter-spacing:2px;text-transform:uppercase;color:var(--text-dim);margin-bottom:8px;display:block;}
.login-box input{width:100%;background:var(--bg);border:1px solid var(--border);color:var(--text);padding:12px 15px;font-family:'DM Sans',sans-serif;font-size:.9rem;outline:none;margin-bottom:16px;transition:.25s;}
.login-box input:focus{border-color:var(--accent);}
.login-box input::placeholder{color:var(--text-dim);}
.login-hint{font-size:.72rem;color:var(--text-dim);text-align:center;margin-bottom:20px;line-height:1.5;}
.login-hint a{color:var(--accent);text-decoration:none;}
.btn-full{width:100%;background:var(--accent);color:#fff;border:none;padding:13px;font-family:'DM Sans',sans-serif;font-size:.72rem;font-weight:500;letter-spacing:2.5px;text-transform:uppercase;cursor:pointer;transition:.3s;display:block;text-align:center;text-decoration:none;}
.btn-full:hover{background:transparent;color:var(--accent);outline:1px solid var(--accent);}
.login-error{font-size:.75rem;color:var(--red);text-align:center;margin-top:12px;display:none;}

/* â”€â”€ LAYOUT â”€â”€ */
#app{display:none;min-height:100vh;}
#app.show{display:flex;}
aside{width:240px;min-width:240px;background:var(--bg2);border-right:1px solid var(--border);display:flex;flex-direction:column;position:fixed;top:0;bottom:0;z-index:50;}
main{margin-left:240px;flex:1;min-height:100vh;}

/* â”€â”€ SIDEBAR â”€â”€ */
.s-brand{padding:28px 24px;border-bottom:1px solid var(--border);}
.s-logo{font-family:'Bebas Neue',sans-serif;font-size:1.3rem;letter-spacing:4px;color:var(--text);}
.s-logo span{color:var(--accent);}
.s-sub{font-size:.58rem;letter-spacing:2px;text-transform:uppercase;color:var(--text-dim);margin-top:3px;}
.s-nav{padding:20px 0;flex:1;}
.s-nav-item{display:flex;align-items:center;gap:12px;padding:12px 24px;font-size:.72rem;font-weight:500;letter-spacing:1.5px;text-transform:uppercase;color:var(--text-muted);cursor:pointer;transition:.2s;border-left:2px solid transparent;}
.s-nav-item:hover{color:var(--text);background:var(--accent-dim);}
.s-nav-item.active{color:var(--accent);border-left-color:var(--accent);background:var(--accent-dim);}
.s-nav-icon{font-size:1rem;min-width:20px;}
.s-bottom{padding:20px 24px;border-top:1px solid var(--border);}
.token-status{font-size:.6rem;letter-spacing:1.5px;color:var(--text-dim);margin-bottom:8px;}
.token-ok{color:var(--green);}
.logout-btn{font-size:.62rem;letter-spacing:2px;text-transform:uppercase;color:var(--text-dim);background:none;border:1px solid var(--border);padding:6px 12px;cursor:pointer;font-family:'DM Sans',sans-serif;transition:.2s;width:100%;}
.logout-btn:hover{border-color:var(--red);color:var(--red);}

/* â”€â”€ HEADER â”€â”€ */
.page-head{padding:28px 40px;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;}
.ph-title{font-family:'Bebas Neue',sans-serif;font-size:1.8rem;letter-spacing:3px;}
.ph-sub{font-size:.65rem;letter-spacing:2px;text-transform:uppercase;color:var(--text-dim);margin-top:2px;}
.btn-sm{display:inline-flex;align-items:center;gap:8px;background:var(--accent);color:#fff;border:none;padding:9px 18px;font-family:'DM Sans',sans-serif;font-size:.65rem;font-weight:500;letter-spacing:2px;text-transform:uppercase;cursor:pointer;transition:.3s;}
.btn-sm:hover{background:transparent;color:var(--accent);outline:1px solid var(--accent);}
.btn-sm-ghost{background:transparent;color:var(--text-muted);outline:1px solid var(--border);}
.btn-sm-ghost:hover{outline-color:var(--accent);color:var(--accent);}
.btn-sm-red{background:var(--red-dim);color:var(--red);outline:1px solid transparent;}
.btn-sm-red:hover{outline-color:var(--red);}

/* â”€â”€ CONTENT â”€â”€ */
.page-body{padding:36px 40px;}
.tab{display:none;}.tab.active{display:block;}

/* â”€â”€ CARDS/STATS â”€â”€ */
.stats-row{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;margin-bottom:32px;}
.stat-c{background:var(--surface);border:1px solid var(--border);padding:24px 20px;}
.stat-c-n{font-family:'Bebas Neue',sans-serif;font-size:2.2rem;color:var(--accent);}
.stat-c-l{font-size:.6rem;letter-spacing:2px;text-transform:uppercase;color:var(--text-dim);margin-top:4px;}

/* â”€â”€ TOAST â”€â”€ */
#toast{position:fixed;bottom:28px;right:28px;background:var(--surface);border:1px solid var(--border);padding:14px 20px;font-size:.78rem;color:var(--text-muted);z-index:999;transform:translateY(20px);opacity:0;transition:.3s;min-width:240px;}
#toast.show{transform:none;opacity:1;}
#toast.success{border-color:var(--green);color:var(--green);}
#toast.error{border-color:var(--red);color:var(--red);}

/* â”€â”€ FORMS â”€â”€ */
.form-grid{display:grid;grid-template-columns:1fr 1fr;gap:16px;}
.form-full{grid-column:1/-1;}
.f-group{margin-bottom:0;}
.f-group label{display:block;font-size:.58rem;letter-spacing:2px;text-transform:uppercase;color:var(--text-dim);margin-bottom:7px;}
.f-group input,.f-group textarea,.f-group select{width:100%;background:var(--bg);border:1px solid var(--border);color:var(--text);padding:11px 13px;font-family:'DM Sans',sans-serif;font-size:.88rem;outline:none;transition:.2s;resize:vertical;appearance:none;}
.f-group textarea{min-height:90px;}
.f-group input:focus,.f-group textarea:focus,.f-group select:focus{border-color:var(--accent);}
.f-group input::placeholder,.f-group textarea::placeholder{color:var(--text-dim);}
.f-group select option{background:var(--bg);}
.img-preview{margin-top:10px;width:100%;max-height:180px;object-fit:contain;background:var(--bg3);border:1px solid var(--border);display:none;}
.img-preview.show{display:block;}
.card-container{background:var(--surface);border:1px solid var(--border);padding:28px;}
.card-container+.card-container{margin-top:16px;}
.card-title{font-size:.68rem;letter-spacing:2.5px;text-transform:uppercase;color:var(--text-dim);margin-bottom:20px;padding-bottom:12px;border-bottom:1px solid var(--border);}

/* â”€â”€ PROJECTS LIST â”€â”€ */
.proj-list{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:12px;}
.proj-card{background:var(--surface);border:1px solid var(--border);overflow:hidden;transition:.2s;}
.proj-card:hover{border-color:var(--border2);}
.proj-card-img{aspect-ratio:4/3;overflow:hidden;background:var(--bg3);}
.proj-card-img img{width:100%;height:100%;object-fit:cover;transition:.3s;}
.proj-card:hover .proj-card-img img{transform:scale(1.05);}
.proj-card-body{padding:16px;}
.proj-card-cat{font-size:.58rem;letter-spacing:2px;text-transform:uppercase;color:var(--accent);margin-bottom:5px;}
.proj-card-name{font-size:.92rem;font-weight:500;color:var(--text);margin-bottom:4px;}
.proj-card-desc{font-size:.78rem;color:var(--text-muted);margin-bottom:14px;}
.proj-card-actions{display:flex;gap:8px;}

/* â”€â”€ PROGRESS â”€â”€ */
.upload-progress{margin-top:10px;height:2px;background:var(--border);display:none;}
.upload-progress.show{display:block;}
.upload-progress-bar{height:100%;background:var(--accent);width:0%;transition:width .3s;}

/* â”€â”€ INFO BOXES â”€â”€ */
.info-box{background:var(--accent-dim);border:1px solid rgba(232,82,26,.2);padding:14px 16px;font-size:.78rem;color:var(--text-muted);margin-bottom:20px;line-height:1.6;}
.info-box strong{color:var(--accent);}
.info-box a{color:var(--accent);text-decoration:none;}
.warn-box{background:rgba(245,158,11,.08);border:1px solid rgba(245,158,11,.2);padding:14px 16px;font-size:.78rem;color:var(--text-muted);margin-bottom:20px;line-height:1.6;}
.warn-box strong{color:var(--yellow);}

/* â”€â”€ SETTINGS â”€â”€ */
.settings-section{background:var(--surface);border:1px solid var(--border);padding:28px;margin-bottom:16px;}
.settings-title{font-size:.68rem;letter-spacing:2.5px;text-transform:uppercase;color:var(--text-dim);margin-bottom:20px;padding-bottom:12px;border-bottom:1px solid var(--border);}

/* â”€â”€ SAVING OVERLAY â”€â”€ */
#saving{position:fixed;inset:0;z-index:900;background:rgba(0,0,0,.7);display:none;align-items:center;justify-content:center;}
#saving.show{display:flex;}
.saving-box{background:var(--surface);border:1px solid var(--border);padding:32px 48px;text-align:center;}
.saving-txt{font-family:'Bebas Neue',sans-serif;font-size:1.4rem;letter-spacing:4px;color:var(--accent);margin-top:12px;}
.spinner{width:32px;height:32px;border:2px solid var(--border2);border-top-color:var(--accent);border-radius:50%;animation:spin 1s linear infinite;margin:0 auto;}
@keyframes spin{to{transform:rotate(360deg)}}

/* â”€â”€ GUIDE STEPS â”€â”€ */
.guide-steps{counter-reset:step;}
.guide-step{display:flex;gap:16px;margin-bottom:20px;padding-bottom:20px;border-bottom:1px solid var(--border);}
.guide-step:last-child{border-bottom:none;margin-bottom:0;}
.step-num{width:28px;height:28px;min-width:28px;background:var(--accent-dim);border:1px solid rgba(232,82,26,.3);border-radius:50%;display:flex;align-items:center;justify-content:center;font-family:'Bebas Neue',sans-serif;font-size:.9rem;color:var(--accent);}
.step-content h4{font-size:.8rem;font-weight:500;margin-bottom:5px;}
.step-content p{font-size:.78rem;color:var(--text-muted);line-height:1.6;}
.step-content code{font-size:.72rem;background:var(--bg3);border:1px solid var(--border);padding:2px 7px;color:var(--accent);}

@media(max-width:768px){
  aside{display:none;}
  main{margin-left:0;}
  .stats-row{grid-template-columns:1fr 1fr;}
  .form-grid{grid-template-columns:1fr;}
  .page-head{padding:20px;}
  .page-body{padding:20px;}
}
</style>
</head>
<body>

<!-- Toast -->
<div id="toast"></div>

<!-- Saving Overlay -->
<div id="saving">
  <div class="saving-box">
    <div class="spinner"></div>
    <div class="saving-txt">Saving...</div>
  </div>
</div>

<!-- â”€â”€ LOGIN â”€â”€ -->
<div id="login-screen">
  <div class="login-box">
    <div class="login-logo">ANS<span>.</span>ADMIN</div>
    <div class="login-sub">Portfolio Control Panel</div>

    <div class="info-box" style="margin-bottom:24px;">
      <strong>GitHub Personal Access Token</strong> se login karein.<br>
      Token chahiye? <a href="https://github.com/settings/tokens/new?scopes=repo&description=Portfolio+Admin" target="_blank">Click karein â€” GitHub Token banayein â†—</a><br>
      Scope mein sirf <strong>repo</strong> tick karein.
    </div>

    <label class="lbl">GitHub Username</label>
    <input type="text" id="gh-user" placeholder="syedansabali" autocomplete="username">

    <label class="lbl">GitHub Repository Name</label>
    <input type="text" id="gh-repo" placeholder="syedansabali.github.io" autocomplete="off">

    <label class="lbl">Personal Access Token</label>
    <input type="password" id="gh-token" placeholder="ghp_xxxxxxxxxxxxxxxxxxxx" autocomplete="current-password">

    <button class="btn-full" onclick="doLogin()">Login & Connect â†’</button>
    <div class="login-error" id="login-err">âŒ Login failed. Token ya username galat hai.</div>
  </div>
</div>

<!-- â”€â”€ APP â”€â”€ -->
<div id="app">
  <!-- Sidebar -->
  <aside>
    <div class="s-brand">
      <div class="s-logo">ANS<span>.</span>ADMIN</div>
      <div class="s-sub">Portfolio Panel</div>
    </div>
    <nav class="s-nav">
      <div class="s-nav-item active" onclick="showTab('dashboard')"><span class="s-nav-icon">â—‰</span>Dashboard</div>
      <div class="s-nav-item" onclick="showTab('add-project')"><span class="s-nav-icon">âœ¦</span>Add Project</div>
      <div class="s-nav-item" onclick="showTab('projects')"><span class="s-nav-icon">â—ˆ</span>Manage Projects</div>
      <div class="s-nav-item" onclick="showTab('settings')"><span class="s-nav-icon">â—</span>Settings</div>
      <div class="s-nav-item" onclick="showTab('guide')"><span class="s-nav-icon">?</span>Setup Guide</div>
    </nav>
    <div class="s-bottom">
      <div class="token-status" id="token-status">â— Connecting...</div>
      <button class="logout-btn" onclick="doLogout()">Logout</button>
    </div>
  </aside>

  <!-- Main -->
  <main>

    <!-- â”€â”€â”€ DASHBOARD â”€â”€â”€ -->
    <div id="tab-dashboard" class="tab active">
      <div class="page-head">
        <div><div class="ph-title">Dashboard</div><div class="ph-sub">Portfolio Overview</div></div>
        <a href="../index.html" target="_blank" class="btn-sm btn-sm-ghost">View Site â†—</a>
      </div>
      <div class="page-body">
        <div class="stats-row">
          <div class="stat-c"><div class="stat-c-n" id="d-total">â€”</div><div class="stat-c-l">Total Projects</div></div>
          <div class="stat-c"><div class="stat-c-n" id="d-cats">â€”</div><div class="stat-c-l">Categories</div></div>
          <div class="stat-c"><div class="stat-c-n" id="d-services">â€”</div><div class="stat-c-l">Services</div></div>
          <div class="stat-c"><div class="stat-c-n" id="d-clients" style="color:var(--green)">â—</div><div class="stat-c-l">GitHub Sync</div></div>
        </div>
        <div class="card-container">
          <div class="card-title">Quick Actions</div>
          <div style="display:flex;gap:10px;flex-wrap:wrap;">
            <button class="btn-sm" onclick="showTab('add-project')">âœ¦ Add New Project</button>
            <button class="btn-sm btn-sm-ghost" onclick="showTab('projects')">â—ˆ Manage Projects</button>
            <button class="btn-sm btn-sm-ghost" onclick="showTab('settings')">â— Edit Info</button>
          </div>
        </div>
        <div class="card-container" style="margin-top:16px;">
          <div class="card-title">Recent Projects</div>
          <div id="recent-projects" style="color:var(--text-dim);font-size:.78rem;">Loading...</div>
        </div>
      </div>
    </div>

    <!-- â”€â”€â”€ ADD PROJECT â”€â”€â”€ -->
    <div id="tab-add-project" class="tab">
      <div class="page-head">
        <div><div class="ph-title">Add Project</div><div class="ph-sub">Upload new work to portfolio</div></div>
      </div>
      <div class="page-body">
        <div class="warn-box">
          <strong>âš¡ Image Upload:</strong> Image ka URL paste karein (Dropbox, ImgBB, Cloudinary, Google Drive).<br>
          Free image hosting ke liye: <a href="https://imgbb.com" target="_blank" style="color:var(--yellow);">imgbb.com â†—</a> ya <a href="https://www.dropbox.com" target="_blank" style="color:var(--yellow);">Dropbox â†—</a> use karein.
        </div>
        <div class="card-container">
          <div class="card-title">Project Details</div>
          <div class="form-grid">
            <div class="f-group">
              <label>Project Title *</label>
              <input type="text" id="new-title" placeholder="e.g. Logo Design for XYZ">
            </div>
            <div class="f-group">
              <label>Category *</label>
              <select id="new-cat">
                <option value="">Select category</option>
                <option>Logo Design</option>
                <option>Branding</option>
                <option>Social Media</option>
                <option>Print</option>
                <option>Poster</option>
              </select>
            </div>
            <div class="f-group form-full">
              <label>Image URL *</label>
              <input type="url" id="new-img" placeholder="https://..." oninput="previewImg(this.value)">
              <img id="new-img-preview" class="img-preview" src="" alt="Preview">
            </div>
            <div class="f-group form-full">
              <label>Description</label>
              <input type="text" id="new-desc" placeholder="Brief description of the project">
            </div>
            <div class="f-group">
              <label>Year</label>
              <input type="text" id="new-year" placeholder="2024" value="2024">
            </div>
          </div>
          <div style="margin-top:20px;display:flex;gap:10px;">
            <button class="btn-sm" onclick="addProject()">âœ¦ Save Project â†’</button>
            <button class="btn-sm btn-sm-ghost" onclick="clearNewForm()">Clear</button>
          </div>
        </div>
      </div>
    </div>

    <!-- â”€â”€â”€ MANAGE PROJECTS â”€â”€â”€ -->
    <div id="tab-projects" class="tab">
      <div class="page-head">
        <div><div class="ph-title">Projects</div><div class="ph-sub">Manage your work</div></div>
        <button class="btn-sm" onclick="showTab('add-project')">âœ¦ Add New</button>
      </div>
      <div class="page-body">
        <div class="proj-list" id="proj-list">
          <div style="color:var(--text-dim);font-size:.78rem;">Loading...</div>
        </div>
      </div>
    </div>

    <!-- â”€â”€â”€ SETTINGS â”€â”€â”€ -->
    <div id="tab-settings" class="tab">
      <div class="page-head">
        <div><div class="ph-title">Settings</div><div class="ph-sub">Update portfolio info</div></div>
        <button class="btn-sm" onclick="saveSettings()">Save Changes â†’</button>
      </div>
      <div class="page-body">

        <div class="settings-section">
          <div class="settings-title">Personal Info</div>
          <div class="form-grid">
            <div class="f-group"><label>Full Name</label><input type="text" id="s-name" placeholder="Syed Ansab Ali"></div>
            <div class="f-group"><label>Title</label><input type="text" id="s-title" placeholder="Graphics Designer"></div>
            <div class="f-group form-full"><label>Tagline (Hero)</label><input type="text" id="s-tagline" placeholder="Crafting visual identities..."></div>
            <div class="f-group form-full"><label>Bio (About Section)</label><textarea id="s-bio" placeholder="Write about yourself..."></textarea></div>
            <div class="f-group"><label>Email</label><input type="email" id="s-email"></div>
            <div class="f-group"><label>Phone</label><input type="text" id="s-phone"></div>
            <div class="f-group"><label>Location</label><input type="text" id="s-loc"></div>
            <div class="f-group"><label>Profile Photo URL</label><input type="url" id="s-avatar" placeholder="https://..."></div>
          </div>
        </div>

        <div class="settings-section">
          <div class="settings-title">Portfolio Stats</div>
          <div class="form-grid">
            <div class="f-group"><label>Projects Completed</label><input type="text" id="s-st-projects" placeholder="100+"></div>
            <div class="f-group"><label>Happy Clients</label><input type="text" id="s-st-clients" placeholder="50+"></div>
            <div class="f-group"><label>Years Experience</label><input type="text" id="s-st-exp" placeholder="5+"></div>
          </div>
        </div>

        <div class="settings-section">
          <div class="settings-title">Social Links</div>
          <div class="form-grid">
            <div class="f-group"><label>LinkedIn URL</label><input type="url" id="s-linkedin" placeholder="https://linkedin.com/in/..."></div>
            <div class="f-group"><label>Instagram URL</label><input type="url" id="s-instagram" placeholder="https://instagram.com/..."></div>
            <div class="f-group"><label>Behance URL</label><input type="url" id="s-behance" placeholder="https://behance.net/..."></div>
            <div class="f-group"><label>Fiverr URL</label><input type="url" id="s-fiverr" placeholder="https://fiverr.com/..."></div>
          </div>
        </div>

      </div>
    </div>

    <!-- â”€â”€â”€ GUIDE â”€â”€â”€ -->
    <div id="tab-guide" class="tab">
      <div class="page-head">
        <div><div class="ph-title">Setup Guide</div><div class="ph-sub">Step by step instructions</div></div>
      </div>
      <div class="page-body">
        <div class="card-container">
          <div class="card-title">ğŸš€ GitHub Par Website Upload Karne Ka Tarika</div>
          <div class="guide-steps">
            <div class="guide-step">
              <div class="step-num">1</div>
              <div class="step-content">
                <h4>GitHub Account Login Karein</h4>
                <p>github.com pe jaein aur apne account se login karein. Aapka username <code>syedansabali</code> hai.</p>
              </div>
            </div>
            <div class="guide-step">
              <div class="step-num">2</div>
              <div class="step-content">
                <h4>Repository Mein Files Upload Karein</h4>
                <p>Apni repository <code>syedansabali.github.io</code> kholen. "Add file" â†’ "Upload files" click karein. <strong>index.html</strong>, <strong>admin.html</strong>, aur <strong>portfolio-data.json</strong> upload karein.</p>
              </div>
            </div>
            <div class="guide-step">
              <div class="step-num">3</div>
              <div class="step-content">
                <h4>GitHub Personal Access Token Banayein</h4>
                <p>GitHub Settings â†’ Developer Settings â†’ Personal Access Tokens â†’ Tokens (classic) â†’ Generate new token. Naam dein: <code>Portfolio Admin</code>. Sirf <strong>repo</strong> scope tick karein. Token copy karein â€” dobara nahi dikhega!</p>
              </div>
            </div>
            <div class="guide-step">
              <div class="step-num">4</div>
              <div class="step-content">
                <h4>Admin Panel Kholen</h4>
                <p>Website pe admin.html kholen: <code>syedansabali.github.io/admin.html</code><br>
                Username, repo name, aur token enter karein. Login karein.</p>
              </div>
            </div>
            <div class="guide-step">
              <div class="step-num">5</div>
              <div class="step-content">
                <h4>Images Ka Kya Karein?</h4>
                <p><a href="https://imgbb.com" target="_blank">imgbb.com</a> pe jaein â†’ Account banayein â†’ Image upload karein â†’ "Direct link" copy karein â†’ Admin panel mein paste karein. Ya Dropbox ka "Direct download link" use karein (dl=1 wala).</p>
              </div>
            </div>
            <div class="guide-step">
              <div class="step-num">6</div>
              <div class="step-content">
                <h4>Kuch Add Karein Aur Enjoy Karein!</h4>
                <p>"Add Project" tab pe jaein, details fill karein, Save karein. Website automatically update ho jayegi aur GitHub pe save ho jayega!</p>
              </div>
            </div>
          </div>
        </div>

        <div class="card-container" style="margin-top:16px;">
          <div class="card-title">ğŸ”— Useful Links</div>
          <div style="display:flex;flex-wrap:wrap;gap:10px;margin-top:4px;">
            <a href="https://github.com/settings/tokens/new?scopes=repo&description=Portfolio+Admin" target="_blank" class="btn-sm">Create GitHub Token â†—</a>
            <a href="https://imgbb.com" target="_blank" class="btn-sm btn-sm-ghost">ImgBB Free Hosting â†—</a>
            <a href="https://www.dropbox.com" target="_blank" class="btn-sm btn-sm-ghost">Dropbox â†—</a>
            <a href="https://cloudinary.com" target="_blank" class="btn-sm btn-sm-ghost">Cloudinary â†—</a>
          </div>
        </div>
      </div>
    </div>

  </main>
</div>

<script>
// â”€â”€ STATE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let GH_USER = '', GH_REPO = '', GH_TOKEN = '';
let DATA = null;
let DATA_SHA = '';

// â”€â”€ LOGIN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
async function doLogin(){
  const u = document.getElementById('gh-user').value.trim();
  const r = document.getElementById('gh-repo').value.trim();
  const t = document.getElementById('gh-token').value.trim();
  if(!u||!r||!t){ showToast('Sab fields bharein!','error'); return; }

  // Test token
  const btn = document.querySelector('#login-screen .btn-full');
  btn.textContent = 'Connecting...';

  try{
    const res = await ghGet(`repos/${u}/${r}`);
    if(!res.ok) throw new Error('Invalid');
    GH_USER = u; GH_REPO = r; GH_TOKEN = t;
    sessionStorage.setItem('gh_user', u);
    sessionStorage.setItem('gh_repo', r);
    sessionStorage.setItem('gh_token', t);
    document.getElementById('login-screen').classList.add('hidden');
    document.getElementById('app').classList.add('show');
    document.getElementById('token-status').innerHTML = '<span class="token-ok">â— Connected</span>';
    await loadData();
  } catch(e){
    document.getElementById('login-err').style.display = 'block';
    btn.textContent = 'Login & Connect â†’';
  }
}

function doLogout(){
  sessionStorage.clear();
  location.reload();
}

// â”€â”€ GITHUB API â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function ghHeaders(){ return {'Authorization':'token '+GH_TOKEN,'Content-Type':'application/json','Accept':'application/vnd.github.v3+json'}; }
function ghGet(path){ return fetch(`https://api.github.com/${path}`,{headers:ghHeaders()}); }
function ghPut(path,body){ return fetch(`https://api.github.com/${path}`,{method:'PUT',headers:ghHeaders(),body:JSON.stringify(body)}); }

// â”€â”€ DATA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
async function loadData(){
  try{
    const res = await ghGet(`repos/${GH_USER}/${GH_REPO}/contents/portfolio-data.json`);
    const json = await res.json();
    DATA_SHA = json.sha;
    DATA = JSON.parse(atob(json.content.replace(/\n/g,'')));
    refreshUI();
  } catch(e){
    showToast('portfolio-data.json repo mein nahi mila!','error');
  }
}

async function saveData(successMsg){
  showSaving(true);
  try{
    const content = btoa(unescape(encodeURIComponent(JSON.stringify(DATA, null, 2))));
    const body = {message:'Update portfolio data',content,sha:DATA_SHA};
    const res = await ghPut(`repos/${GH_USER}/${GH_REPO}/contents/portfolio-data.json`,body);
    const json = await res.json();
    if(json.content){ DATA_SHA = json.content.sha; showToast(successMsg||'Saved!','success'); }
    else showToast('Save failed: ' + (json.message||'Error'),'error');
  } catch(e){ showToast('Network error!','error'); }
  showSaving(false);
}

// â”€â”€ REFRESH UI â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function refreshUI(){
  if(!DATA) return;
  // Dashboard stats
  document.getElementById('d-total').textContent = DATA.projects.length;
  document.getElementById('d-cats').textContent = new Set(DATA.projects.map(p=>p.category)).size;
  document.getElementById('d-services').textContent = DATA.services.length;
  document.getElementById('d-clients').innerHTML = '<span style="color:var(--green)">âœ“ OK</span>';
  // Recent projects
  const rp = document.getElementById('recent-projects');
  if(!DATA.projects.length){ rp.textContent='No projects yet.'; return; }
  rp.innerHTML = DATA.projects.slice(-3).reverse().map(p=>`
    <div style="display:flex;align-items:center;gap:12px;padding:10px 0;border-bottom:1px solid var(--border);">
      <img src="${p.image}" style="width:48px;height:36px;object-fit:cover;background:var(--bg3);" onerror="this.style.display='none'">
      <div><div style="font-size:.82rem;">${p.title}</div><div style="font-size:.6rem;color:var(--accent);letter-spacing:2px;text-transform:uppercase;margin-top:2px;">${p.category} Â· ${p.year}</div></div>
    </div>
  `).join('');
  // Manage projects
  renderProjectsList();
  // Settings
  fillSettings();
}

// â”€â”€ PROJECTS LIST â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderProjectsList(){
  const list = document.getElementById('proj-list');
  if(!DATA.projects.length){ list.innerHTML='<div style="color:var(--text-dim);font-size:.78rem;">No projects yet. Add one!</div>'; return; }
  list.innerHTML = DATA.projects.map((p,i)=>`
    <div class="proj-card">
      <div class="proj-card-img"><img src="${p.image}" alt="${p.title}" onerror="this.src='https://placehold.co/400x300/1a1a1a/3a3835?text=NO+IMAGE'"></div>
      <div class="proj-card-body">
        <div class="proj-card-cat">${p.category} Â· ${p.year}</div>
        <div class="proj-card-name">${p.title}</div>
        <div class="proj-card-desc">${p.description||''}</div>
        <div class="proj-card-actions">
          <button class="btn-sm btn-sm-ghost" onclick="deleteProject(${p.id})">Delete</button>
        </div>
      </div>
    </div>
  `).join('');
}

// â”€â”€ ADD PROJECT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
async function addProject(){
  const title = document.getElementById('new-title').value.trim();
  const cat   = document.getElementById('new-cat').value;
  const img   = document.getElementById('new-img').value.trim();
  const desc  = document.getElementById('new-desc').value.trim();
  const year  = document.getElementById('new-year').value.trim() || '2024';
  if(!title||!cat||!img){ showToast('Title, Category aur Image URL zaroor chahiye!','error'); return; }

  const newId = Date.now();
  DATA.projects.push({id:newId,title,category:cat,image:img,description:desc,year});
  await saveData('Project add ho gaya! âœ“');
  clearNewForm();
  refreshUI();
  showTab('projects');
}

function clearNewForm(){
  ['new-title','new-cat','new-img','new-desc'].forEach(id=>document.getElementById(id).value='');
  document.getElementById('new-year').value='2024';
  document.getElementById('new-img-preview').classList.remove('show');
}

function previewImg(url){
  const prev = document.getElementById('new-img-preview');
  if(url.startsWith('http')){ prev.src=url; prev.classList.add('show'); }
  else prev.classList.remove('show');
}

// â”€â”€ DELETE PROJECT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
async function deleteProject(id){
  if(!confirm('Ye project delete karein?')) return;
  DATA.projects = DATA.projects.filter(p=>p.id!==id);
  await saveData('Project delete ho gaya!');
  refreshUI();
}

// â”€â”€ SETTINGS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function fillSettings(){
  const d = DATA.designer;
  document.getElementById('s-name').value = d.name||'';
  document.getElementById('s-title').value = d.title||'';
  document.getElementById('s-tagline').value = d.tagline||'';
  document.getElementById('s-bio').value = d.bio||'';
  document.getElementById('s-email').value = d.email||'';
  document.getElementById('s-phone').value = d.phone||'';
  document.getElementById('s-loc').value = d.location||'';
  document.getElementById('s-avatar').value = d.avatar||'';
  document.getElementById('s-st-projects').value = DATA.stats.projects||'';
  document.getElementById('s-st-clients').value = DATA.stats.clients||'';
  document.getElementById('s-st-exp').value = DATA.stats.experience||'';
  document.getElementById('s-linkedin').value = d.social.linkedin||'';
  document.getElementById('s-instagram').value = d.social.instagram||'';
  document.getElementById('s-behance').value = d.social.behance||'';
  document.getElementById('s-fiverr').value = d.social.fiverr||'';
}

async function saveSettings(){
  DATA.designer.name = document.getElementById('s-name').value.trim();
  DATA.designer.title = document.getElementById('s-title').value.trim();
  DATA.designer.tagline = document.getElementById('s-tagline').value.trim();
  DATA.designer.bio = document.getElementById('s-bio').value.trim();
  DATA.designer.email = document.getElementById('s-email').value.trim();
  DATA.designer.phone = document.getElementById('s-phone').value.trim();
  DATA.designer.location = document.getElementById('s-loc').value.trim();
  DATA.designer.avatar = document.getElementById('s-avatar').value.trim();
  DATA.stats.projects = document.getElementById('s-st-projects').value.trim();
  DATA.stats.clients = document.getElementById('s-st-clients').value.trim();
  DATA.stats.experience = document.getElementById('s-st-exp').value.trim();
  DATA.designer.social.linkedin = document.getElementById('s-linkedin').value.trim();
  DATA.designer.social.instagram = document.getElementById('s-instagram').value.trim();
  DATA.designer.social.behance = document.getElementById('s-behance').value.trim();
  DATA.designer.social.fiverr = document.getElementById('s-fiverr').value.trim();
  await saveData('Settings save ho gayi! âœ“');
}

// â”€â”€ TABS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function showTab(name){
  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
  document.getElementById('tab-'+name).classList.add('active');
  document.querySelectorAll('.s-nav-item').forEach(n=>n.classList.remove('active'));
  document.querySelectorAll('.s-nav-item').forEach(n=>{
    if(n.getAttribute('onclick')===`showTab('${name}')`) n.classList.add('active');
  });
}

// â”€â”€ TOAST â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function showToast(msg,type=''){
  const t = document.getElementById('toast');
  t.textContent = msg; t.className = 'show '+(type||'');
  clearTimeout(window._toastT);
  window._toastT = setTimeout(()=>t.classList.remove('show'),3500);
}

function showSaving(on){
  document.getElementById('saving').classList.toggle('show',on);
}

// â”€â”€ SESSION RESTORE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
window.addEventListener('DOMContentLoaded', () => {
  const u = sessionStorage.getItem('gh_user');
  const r = sessionStorage.getItem('gh_repo');
  const t = sessionStorage.getItem('gh_token');
  if(u&&r&&t){
    GH_USER=u; GH_REPO=r; GH_TOKEN=t;
    document.getElementById('gh-user').value=u;
    document.getElementById('gh-repo').value=r;
    document.getElementById('login-screen').classList.add('hidden');
    document.getElementById('app').classList.add('show');
    document.getElementById('token-status').innerHTML='<span class="token-ok">â— Connected</span>';
    loadData();
  }
});
</script>
</body>
</html>
